# 開発者向け情報

開発に関わる情報を掲載します。

## 目次

- [技術選定について](#heading-01)
- [Next.jsアプリケーションにおけるアンチパターン](#heading-02)

<h2 id="heading-01">技術選定について</h2>

<h2 id="heading-02">Next.jsアプリケーションにおけるアンチパターン</h2>

Next.js アプリケーション開発におけるアンチパターンを避けることで、セキュリティ、パフォーマンス、メンテナンス性を向上させることができます。これらのアンチパターンをなるべく踏まないように、開発することを目指します。

1. 全情報の返却

- アンチパターン
  - ユーザー情報を返却する際に、必要以上の個人情報を含めて返すことがあります。これは情報漏洩のリスクを高めます。
- 回避方法
  - 必要な情報のみを返却する。

1. グローバルステートの乱用

- アンチパターン
  - グローバルステートを乱用すると、アプリケーションの状態管理が複雑になり、デバッグやメンテナンスが難しくなります。
- 回避方法
  - コンテキストAPIや状態管理ライブラリを使用して、適切にスコープを分けて管理します。

1. 直接的なDOM操作

- アンチパターン
  - Reactの仮想DOMを無視して、直接的なDOM操作を行うことで予期しないバグを引き起こしやすくなります。
- 回避方法
  - Reactの状態管理を使用してDOMの状態を操作します。

1. 大規模なコンポーネント

- アンチパターン
  - 一つのコンポーネントが大規模になると、再利用性が低下し、テストやメンテナンスが難しくなります。
- 回避方法
  - コンポーネントを小さく分割し、それぞれが単一の責任を持つようにします。

1. ハードコーディングされた設定値

- アンチパターン
  - 環境ごとの柔軟な設定管理やセキュリティ、メンテナンス性、再利用性、テストの柔軟性においてデメリットがあります。
- 回避方法
  - 環境変数を使用して設定値を管理し、コードを変更せずに設定を変更できるようにします。

1. 非効率なデータフェッチ

- アンチパターン
  - データを繰り返しフェッチするコードは、パフォーマンスに悪影響を与える可能性があります。
- 回避方法
  - データフェッチをキャッシュして、不要なリクエストを避けます。

1. データベースの内容をそのまま返却する

- アンチパターン
  - データベースの内容をそのまま返却すると、データベースの内容がそのままクライアントに公開されてしまいます。最初はシンプルなテーブルでも将来的に重要なカラムが増えるかもしれません。
- 回避方法
  - 返却する情報を制限し、必要な情報のみを返すようにします。

1. サーバーアクションにセキュリティをかけないまま使用する

- アンチパターン
  - サーバーアクションは誰でも実行できるので、必ずアクション内で検証を行いましょう。
- 回避方法
  - アクション内で検証を行い実行権限があるかどうか確認します。

1. 検証やデータ操作に関する重要なキーをクライアントから受け取る

- アンチパターン
  - クライアントから受け取る情報は信用できません。特にユーザー削除や書き換えなどの操作を行う際には注意が必要です。
- 回避方法
  - ログイン中のユーザー情報をサーバー側で検証し、必要な操作を行います。
